(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{529:function(v,_,l){"use strict";l.r(_);var e=l(6),i=Object(e.a)({},(function(){var v=this,_=v.$createElement,l=v._self._c||_;return l("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[l("blockquote",[l("p",[v._v("在网上多少了解过路由模式，但一直以来都是一知半解，只知道hash模式在url中会有一个 "),l("code",[v._v("#")]),v._v("  号，而且通常因为不是很好看而改用 "),l("code",[v._v("history")]),v._v(" 模式。但实际上任何技术方案的实现都是为了解决某些特定问题。")])]),v._v(" "),l("h2",{attrs:{id:"常见路由模式"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#常见路由模式"}},[v._v("#")]),v._v(" 常见路由模式")]),v._v(" "),l("ul",[l("li",[l("code",[v._v("hash")]),v._v("： "),l("code",[v._v("SPA")]),v._v(" 出现后最常见的模式，主要基于锚点实现。")]),v._v(" "),l("li",[l("code",[v._v("brower")]),v._v("：通过 "),l("code",[v._v("html5")]),v._v(" 标准中的 "),l("code",[v._v("history api")]),v._v(" 来监听 "),l("code",[v._v("popstate")]),v._v(" 事件实现。每一次路由变化都会引起重定向。")]),v._v(" "),l("li",[l("code",[v._v("memory")]),v._v("：通过在内存中维护一个栈用于管理历史的方式实现，较复杂，很少使用。")]),v._v(" "),l("li",[l("code",[v._v("static")]),v._v("：主要用于ssr，需要后端配合")])]),v._v(" "),l("h2",{attrs:{id:"各方案比较"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#各方案比较"}},[v._v("#")]),v._v(" 各方案比较")]),v._v(" "),l("ol",[l("li",[l("p",[l("code",[v._v("hash")])]),v._v(" "),l("ul",[l("li",[v._v("优点\n"),l("ul",[l("li",[v._v("实现简单，兼容到"),l("code",[v._v("ie8")])]),v._v(" "),l("li",[v._v("绝大多数框架支持"),l("code",[v._v("hash")])]),v._v(" "),l("li",[v._v("不需要服务端配合")]),v._v(" "),l("li",[v._v("除了"),l("code",[v._v("ajax")]),v._v("请求不会再发起其他请求")])])]),v._v(" "),l("li",[v._v("缺点\n"),l("ul",[l("li",[v._v("对于重定向操作，后端无法获取 "),l("code",[v._v("hash")]),v._v(" 部分参数")]),v._v(" "),l("li",[v._v("后端无法跟踪前端路由信息")]),v._v(" "),l("li",[v._v("在项目中使用锚点功能会与当前机制冲突")])])])])]),v._v(" "),l("li",[l("p",[l("code",[v._v("brower")])]),v._v(" "),l("ul",[l("li",[v._v("优点\n"),l("ul",[l("li",[v._v("重定向不会丢失参数，后端可以获取参数")]),v._v(" "),l("li",[v._v("绝大多数框架支持"),l("code",[v._v("brower")])]),v._v(" "),l("li",[v._v("后端可以跟踪路由信息")]),v._v(" "),l("li",[v._v("可以使用"),l("code",[v._v("history.state")]),v._v("来获取url对应状态信息")])])]),v._v(" "),l("li",[v._v("缺点\n"),l("ul",[l("li",[v._v("只兼容到"),l("code",[v._v("ie10")]),v._v(" （也够了）")]),v._v(" "),l("li",[v._v("需要后端支持，返回文档流")])])])])]),v._v(" "),l("li",[l("p",[l("code",[v._v("memory")])]),v._v(" "),l("ul",[l("li",[v._v("优点\n"),l("ul",[l("li",[v._v("无兼容问题因为保存在内存中")]),v._v(" "),l("li",[v._v("无需后端配合")])])]),v._v(" "),l("li",[v._v("缺点\n"),l("ul",[l("li",[v._v("很少有框架支持（除"),l("code",[v._v("react-router")]),v._v("）")]),v._v(" "),l("li",[v._v("难度大，工作量大")]),v._v(" "),l("li",[v._v("前进后退路由管理非常麻烦，尤其安卓")])])])])]),v._v(" "),l("li",[l("p",[v._v("ssr")]),v._v(" "),l("p",[v._v("略")])])]),v._v(" "),l("h2",{attrs:{id:"使用场景"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#使用场景"}},[v._v("#")]),v._v(" 使用场景")]),v._v(" "),l("ol",[l("li",[l("code",[v._v("hash")]),v._v(" "),l("ul",[l("li",[v._v("需要兼容"),l("code",[v._v("ie8")])]),v._v(" "),l("li",[v._v("无重定向传参需要")]),v._v(" "),l("li",[v._v("无锚点功能需求")]),v._v(" "),l("li",[v._v("后端无需跟踪路由")])])]),v._v(" "),l("li",[l("code",[v._v("brower")]),v._v(" "),l("ul",[l("li",[v._v("需要锚点功能")]),v._v(" "),l("li",[v._v("需要重定向传参")]),v._v(" "),l("li",[v._v("后端需要跟踪路由")]),v._v(" "),l("li",[v._v("同构")])])]),v._v(" "),l("li",[l("code",[v._v("memory")]),v._v(" "),l("ul",[l("li",[v._v("需要兼容到"),l("code",[v._v("ie8")]),v._v("以下（丧心病狂）")]),v._v(" "),l("li",[l("code",[v._v("React Native")])])])])])])}),[],!1,null,null,null);_.default=i.exports}}]);